{"version":3,"sources":["webpack:///./js/refs.js","webpack:///./js/apiService.js","webpack:///./js/renderCard.js","webpack:///./index.js","webpack:///./js/input.js","webpack:///./js/btn.js","webpack:///./handlebars/ulHendel.hbs","webpack:///./js/lazy.js"],"names":["refs","body","document","querySelector","inputSearch","btn","spinner","clientHeight","documentElement","page","search","inputValue","fetch","this","then","r","json","renderCard","resul","markup","hend","insertAdjacentHTML","addEventListener","_","debounce","classList","add","innerHTML","apiService","value","e","hits","remove","finally","scrollTo","pageYOffset","Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","HTMLImageElement","console","log","querySelectorAll","forEach","img","src","dataset","script","createElement","integrity","crossOrigin","appendChild","addLazySizesScript","onImageLoaded","evt","target","image","once"],"mappings":"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","file":"main.2fa177302aed147f16d2.js","sourcesContent":["\n\nconst refs = {\n body: document.querySelector('.gallery'),\n inputSearch: document.querySelector('.input'),\n btn: document.querySelector('.btn'),\n spinner: document.querySelector('#loader'),\n clientHeight: document.documentElement.clientHeight,\n\n}\n\nexport default refs;","export default {\n  page: 1,\n  search: '',\n\n  inputValue(search, page) {\n  return fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${search}&page=${this.page}&per_page=12&key=19060894-87e054058a337546d07970d77`).then(r => r.json()).then(this.page += 1);\n      \n  },\n}","import refs from './refs'\nimport hend from '../handlebars/ulHendel.hbs'\n\nexport default function renderCard(resul) {\n  const markup = hend(resul);\n  refs.body.insertAdjacentHTML('beforeend', markup);\n}","import './js/lazy'\n\nimport inputSearchValue from './js/input'\n\nimport btnClick from './js/btn'\n\nimport './css/style.css'\nimport refs from './js/refs'\n\n\n\nrefs.inputSearch.addEventListener('input',_.debounce(inputSearchValue, 1000));\n\nrefs.btn.addEventListener('click', btnClick)\n\n\n// Ввод текста в Инпут\n// inputSearchValue()\n\n\n// Рендер разметки и изображений\n// renderCard()\n\n\n// Клик по кнопке\n// btnClick()\n\n\n\n\n","import refs from './refs'\nimport apiService from './apiService'\nimport renderCard from './renderCard'\n\nexport default function inputSearchValue() {\n  refs.spinner.classList.add('loader')\n    refs.body.innerHTML = ''\n    apiService.inputValue(refs.inputSearch.value ).then(e => {\n        renderCard(e.hits)\n      refs.btn.classList.remove('none')\n    })\n      .finally(() => {\n      refs.spinner.classList.remove('loader')\n    });\n}","import refs from './refs'\nimport apiService from './apiService'\nimport renderCard from './renderCard'\n\n export default function btnClick () {\n  refs.spinner.classList.add('loader')\n  apiService.inputValue(refs.inputSearch.value ).then(e => {\n    renderCard(e.hits)\n    scrollTo(0, (refs.clientHeight + pageYOffset))\n  }).finally(() => {\n    refs.spinner.classList.remove('loader')\n    });\n}","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li>\\n    <div class=\\\"photo-card\\\">\\n        <img class=\\\"photo\\\" loading=\\\"lazy\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":47},\"end\":{\"line\":4,\"column\":63}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" height=\\\"250px\\\" />\\n        </form>\\n\\n        <div class=\\\"stats\\\">\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">thumb_up</i>\\n                <span class=\\\"icons-span\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":41},\"end\":{\"line\":10,\"column\":50}}}) : helper)))\n    + \"</span>\\n            </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">visibility</i>\\n                <span class=\\\"icons-span\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":41},\"end\":{\"line\":14,\"column\":50}}}) : helper)))\n    + \"</span>\\n            </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">comment</i>\\n                <span class=\\\"icons-span\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":41},\"end\":{\"line\":18,\"column\":53}}}) : helper)))\n    + \"</span>\\n            </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">cloud_download</i>\\n                <span class=\\\"icons-span\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":41},\"end\":{\"line\":22,\"column\":54}}}) : helper)))\n    + \"</span>\\n            </p>\\n        </div>\\n    </div>\\n</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":27,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","\n\nif ('loading' in HTMLImageElement.prototype) {\n  console.log('Браузер поддерживает lazyload');\n  addSrcAttrToLazyImages();\n} else {\n  console.log('Браузер НЕ поддерживает lazyload');\n  addLazySizesScript();\n}\n\nconst lazyImages = document.querySelectorAll('img[data-src]');\n\nlazyImages.forEach(image => {\n  image.addEventListener('load', onImageLoaded, { once: true });\n});\n\nfunction onImageLoaded(evt) {\n  console.log('Картинка загрузилась');\n  evt.target.classList.add('appear');\n}\n\nfunction addLazySizesScript() {\n  const script = document.createElement('script');\n  script.src =\n    'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js';\n  script.integrity =\n    'sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==';\n  script.crossOrigin = 'anonymous';\n\n  document.body.appendChild(script);\n}\n\nfunction addSrcAttrToLazyImages() {\n  const lazyImages = document.querySelectorAll('img[loading=\"lazy\"]');\n\n  lazyImages.forEach(img => {\n    img.src = img.dataset.src;\n  });\n}"],"sourceRoot":""}